import{R as ie,r as s,a as Pt,j as k,b as A,c as At}from"./index-7b920573.js";const ue={isAuthenticated:!1,signin(e){ue.isAuthenticated=!0,setTimeout(e,100)},signout(e){ue.isAuthenticated=!1,setTimeout(e,100)}};/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var j;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(j||(j={}));const Be="popstate";function _t(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:i,hash:u}=r.location;return Ce("",{pathname:a,search:i,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:V(o)}return Ut(t,n,null,e)}function Tt(){return Math.random().toString(36).substr(2,8)}function He(e){return{usr:e.state,key:e.key}}function Ce(e,t,n,r){return n===void 0&&(n=null),G({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?q(t):t,{state:n,key:t&&t.key||r||Tt()})}function V(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function q(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ot(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",n=typeof e=="string"?e:V(e);return new URL(n,t)}function Ut(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,u=j.Pop,h=null;function d(){u=j.Pop,h&&h({action:u,location:R.location})}function f(v,C){u=j.Push;let E=Ce(R.location,v,C);n&&n(E,v);let S=He(E),P=R.createHref(E);try{i.pushState(S,"",P)}catch{o.location.assign(P)}a&&h&&h({action:u,location:R.location})}function y(v,C){u=j.Replace;let E=Ce(R.location,v,C);n&&n(E,v);let S=He(E),P=R.createHref(E);i.replaceState(S,"",P),a&&h&&h({action:u,location:R.location})}let R={get action(){return u},get location(){return e(o,i)},listen(v){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Be,d),h=v,()=>{o.removeEventListener(Be,d),h=null}},createHref(v){return t(o,v)},encodeLocation(v){let C=Ot(V(v));return G({},v,{pathname:C.pathname,search:C.search,hash:C.hash})},push:f,replace:y,go(v){return i.go(v)}};return R}var We;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(We||(We={}));function Nt(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?q(t):t,o=st(r.pathname||"/",n);if(o==null)return null;let a=it(e);Ft(a);let i=null;for(let u=0;i==null&&u<a.length;++u)i=Ht(a[u],qt(o));return i}function it(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((o,a)=>{let i={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};i.relativePath.startsWith("/")&&(_(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(r.length));let u=I([r,i.relativePath]),h=n.concat(i);o.children&&o.children.length>0&&(_(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),it(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:jt(u,o.index),routesMeta:h})}),t}function Ft(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Bt(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dt=/^:\w+$/,It=3,Mt=2,Lt=1,$t=10,kt=-2,Ve=e=>e==="*";function jt(e,t){let n=e.split("/"),r=n.length;return n.some(Ve)&&(r+=kt),t&&(r+=Mt),n.filter(o=>!Ve(o)).reduce((o,a)=>o+(Dt.test(a)?It:a===""?Lt:$t),r)}function Bt(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Ht(e,t){let{routesMeta:n}=e,r={},o="/",a=[];for(let i=0;i<n.length;++i){let u=n[i],h=i===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ut({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d);if(!f)return null;Object.assign(r,f.params);let y=u.route;a.push({params:r,pathname:I([o,f.pathname]),pathnameBase:Gt(I([o,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(o=I([o,f.pathnameBase]))}return a}function Wt(e,t){return t===void 0&&(t={}),e.replace(/:(\w+)/g,(n,r)=>(_(t[r]!=null,'Missing ":'+r+'" param'),t[r])).replace(/(\/?)\*/,(n,r,o,a)=>{const i="*";return t[i]==null?a==="/*"?"/":"":""+r+t[i]})}function ut(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Vt(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((d,f,y)=>{if(f==="*"){let R=u[y]||"";i=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}return d[f]=Yt(u[y]||"",f),d},{}),pathname:a,pathnameBase:i,pattern:e}}function Vt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),M(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(i,u)=>(r.push(u),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function qt(e){try{return decodeURI(e)}catch(t){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yt(e,t){try{return decodeURIComponent(e)}catch(n){return M(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function st(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function _(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jt(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?q(e):e;return{pathname:n?n.startsWith("/")?n:Kt(n,t):t,search:zt(r),hash:Qt(o)}}function Kt(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function me(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ct(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lt(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=q(e):(o=G({},e),_(!o.pathname||!o.pathname.includes("?"),me("?","pathname","search",o)),_(!o.pathname||!o.pathname.includes("#"),me("#","pathname","hash",o)),_(!o.search||!o.search.includes("#"),me("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,u;if(r||i==null)u=n;else{let y=t.length-1;if(i.startsWith("..")){let R=i.split("/");for(;R[0]==="..";)R.shift(),y-=1;o.pathname=R.join("/")}u=y>=0?t[y]:"/"}let h=Jt(o,u),d=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||f)&&(h.pathname+="/"),h}const I=e=>e.join("/").replace(/\/\/+/g,"/"),Gt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Xt{constructor(t,n,r){this.status=t,this.statusText=n||"",this.data=r}}function Zt(e){return e instanceof Xt}const en=new Set(["POST","PUT","PATCH","DELETE"]);[...en];/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function tn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const ft=typeof Object.is=="function"?Object.is:tn,{useState:nn,useEffect:rn,useLayoutEffect:on,useDebugValue:an}=ie;let qe=!1,Ye=!1;function un(e,t,n){qe||"startTransition"in ie&&(qe=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));const r=t();if(!Ye){const i=t();ft(r,i)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),Ye=!0)}const[{inst:o},a]=nn({inst:{value:r,getSnapshot:t}});return on(()=>{o.value=r,o.getSnapshot=t,pe(o)&&a({inst:o})},[e,r,t]),rn(()=>(pe(o)&&a({inst:o}),e(()=>{pe(o)&&a({inst:o})})),[e]),an(r),r}function pe(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!ft(n,r)}catch{return!0}}function sn(e,t,n){return t()}const cn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ln=!cn,fn=ln?sn:un;"useSyncExternalStore"in ie&&(e=>e.useSyncExternalStore)(ie);const ht=s.createContext(null);ht.displayName="DataStaticRouterContext";const dt=s.createContext(null);dt.displayName="DataRouter";const Q=s.createContext(null);Q.displayName="DataRouterState";const hn=s.createContext(null);hn.displayName="Await";const Y=s.createContext(null);Y.displayName="Navigation";const X=s.createContext(null);X.displayName="Location";const L=s.createContext({outlet:null,matches:[]});L.displayName="Route";const Te=s.createContext(null);Te.displayName="RouteError";function dn(e,t){let{relative:n}=t===void 0?{}:t;J()||_(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=s.useContext(Y),{hash:a,pathname:i,search:u}=le(e,{relative:n}),h=i;return r!=="/"&&(h=i==="/"?r:I([r,i])),o.createHref({pathname:h,search:u,hash:a})}function J(){return s.useContext(X)!=null}function $(){return J()||_(!1,"useLocation() may be used only in the context of a <Router> component."),s.useContext(X).location}function Z(){J()||_(!1,"useNavigate() may be used only in the context of a <Router> component.");let{basename:e,navigator:t}=s.useContext(Y),{matches:n}=s.useContext(L),{pathname:r}=$(),o=JSON.stringify(ct(n).map(u=>u.pathnameBase)),a=s.useRef(!1);return s.useEffect(()=>{a.current=!0}),s.useCallback(function(u,h){if(h===void 0&&(h={}),M(a.current,"You should call navigate() in a React.useEffect(), not when your component is first rendered."),!a.current)return;if(typeof u=="number"){t.go(u);return}let d=lt(u,JSON.parse(o),r,h.relative==="path");e!=="/"&&(d.pathname=d.pathname==="/"?e:I([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,o,r])}const mn=s.createContext(null);function pn(e){let t=s.useContext(L).outlet;return t&&s.createElement(mn.Provider,{value:e},t)}function gn(){let{matches:e}=s.useContext(L),t=e[e.length-1];return t?t.params:{}}function le(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=s.useContext(L),{pathname:o}=$(),a=JSON.stringify(ct(r).map(i=>i.pathnameBase));return s.useMemo(()=>lt(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function yn(e,t){J()||_(!1,"useRoutes() may be used only in the context of a <Router> component.");let n=s.useContext(Q),{matches:r}=s.useContext(L),o=r[r.length-1],a=o?o.params:{},i=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let S=h&&h.path||"";xn(i,!h||S.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+i+'" (under <Route path="'+S+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+S+'"> to <Route ')+('path="'+(S==="/"?"*":S+"/*")+'">.'))}let d=$(),f;if(t){var y;let S=typeof t=="string"?q(t):t;u==="/"||(y=S.pathname)!=null&&y.startsWith(u)||_(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+u+'" ')+('but pathname "'+S.pathname+'" was given in the `location` prop.')),f=S}else f=d;let R=f.pathname||"/",v=u==="/"?R:R.slice(u.length)||"/",C=Nt(e,{pathname:v});M(h||C!=null,'No routes matched location "'+f.pathname+f.search+f.hash+'" '),M(C==null||C[C.length-1].route.element!==void 0,'Matched leaf route at location "'+f.pathname+f.search+f.hash+'" does not have an element. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let E=bn(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:I([u,S.pathname]),pathnameBase:S.pathnameBase==="/"?u:I([u,S.pathnameBase])})),r,n||void 0);return t&&E?s.createElement(X.Provider,{value:{location:be({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:j.Pop}},E):E}function Rn(){let e=Sn(),t=Zt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unhandled Thrown Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:o},n):null,s.createElement("p",null,"💿 Hey developer 👋"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:a},"errorElement")," props on ",s.createElement("code",{style:a},"<Route>")))}class En extends s.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?s.createElement(Te.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function Cn(e){let{routeContext:t,match:n,children:r}=e,o=s.useContext(ht);return o&&n.route.errorElement&&(o._deepestRenderedBoundaryId=n.route.id),s.createElement(L.Provider,{value:t},r)}function bn(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,o=n==null?void 0:n.errors;if(o!=null){let a=r.findIndex(i=>i.route.id&&(o==null?void 0:o[i.route.id]));a>=0||_(!1,"Could not find a matching route for the current errors: "+o),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,i,u)=>{let h=i.route.id?o==null?void 0:o[i.route.id]:null,d=n?i.route.errorElement||s.createElement(Rn,null):null,f=()=>s.createElement(Cn,{match:i,routeContext:{outlet:a,matches:t.concat(r.slice(0,u+1))}},h?d:i.route.element!==void 0?i.route.element:a);return n&&(i.route.errorElement||u===0)?s.createElement(En,{location:n.location,component:d,error:h,children:f()}):f()},null)}var Je;(function(e){e.UseRevalidator="useRevalidator"})(Je||(Je={}));var ve;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(ve||(ve={}));function vn(e){return e+" must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router."}function wn(e){let t=s.useContext(Q);return t||_(!1,vn(e)),t}function Sn(){var e;let t=s.useContext(Te),n=wn(ve.UseRouteError),r=s.useContext(L),o=r.matches[r.matches.length-1];return t||(r||_(!1,"useRouteError must be used inside a RouteContext"),o.route.id||_(!1,'useRouteError can only be used on routes that contain a unique "id"'),(e=n.errors)==null?void 0:e[o.route.id])}const Ke={};function xn(e,t,n){!t&&!Ke[e]&&(Ke[e]=!0,M(!1,n))}function z(e){let{to:t,replace:n,state:r,relative:o}=e;J()||_(!1,"<Navigate> may be used only in the context of a <Router> component."),M(!s.useContext(Y).static,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let a=s.useContext(Q),i=Z();return s.useEffect(()=>{a&&a.navigation.state!=="idle"||i(t,{replace:n,state:r,relative:o})}),null}function Pn(e){return pn(e.context)}function An(e){let{basename:t="/",children:n=null,location:r,navigationType:o=j.Pop,navigator:a,static:i=!1}=e;J()&&_(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=s.useMemo(()=>({basename:u,navigator:a,static:i}),[u,a,i]);typeof r=="string"&&(r=q(r));let{pathname:d="/",search:f="",hash:y="",state:R=null,key:v="default"}=r,C=s.useMemo(()=>{let E=st(d,u);return E==null?null:{pathname:E,search:f,hash:y,state:R,key:v}},[u,d,f,y,R,v]);return M(C!=null,'<Router basename="'+u+'"> is not able to match the URL '+('"'+d+f+y+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),C==null?null:s.createElement(Y.Provider,{value:h},s.createElement(X.Provider,{children:n,value:{location:C,navigationType:o}}))}var Ge;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Ge||(Ge={}));new Promise(()=>{});/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function Oe(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const oe="get",ge="application/x-www-form-urlencoded";function fe(e){return e!=null&&typeof e.tagName=="string"}function _n(e){return fe(e)&&e.tagName.toLowerCase()==="button"}function Tn(e){return fe(e)&&e.tagName.toLowerCase()==="form"}function On(e){return fe(e)&&e.tagName.toLowerCase()==="input"}function Un(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nn(e,t){return e.button===0&&(!t||t==="_self")&&!Un(e)}function Fn(e,t,n){let r,o,a,i;if(Tn(e)){let f=n.submissionTrigger;r=n.method||e.getAttribute("method")||oe,o=n.action||e.getAttribute("action")||t,a=n.encType||e.getAttribute("enctype")||ge,i=new FormData(e),f&&f.name&&i.append(f.name,f.value)}else if(_n(e)||On(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||f.getAttribute("method")||oe,o=n.action||e.getAttribute("formaction")||f.getAttribute("action")||t,a=n.encType||e.getAttribute("formenctype")||f.getAttribute("enctype")||ge,i=new FormData(f),e.name&&i.append(e.name,e.value)}else{if(fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||oe,o=n.action||t,a=n.encType||ge,e instanceof FormData)i=e;else if(i=new FormData,e instanceof URLSearchParams)for(let[f,y]of e)i.append(f,y);else if(e!=null)for(let f of Object.keys(e))i.append(f,e[f])}let{protocol:u,host:h}=window.location;return{url:new URL(o,u+"//"+h),method:r,encType:a,formData:i}}const Dn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],In=["aria-current","caseSensitive","className","end","style","to","children"],Mn=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative"],se=s.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:i,state:u,target:h,to:d,preventScrollReset:f}=t,y=Oe(t,Dn),R=dn(d,{relative:o}),v=Bn(d,{replace:i,state:u,target:h,preventScrollReset:f,relative:o});function C(E){r&&r(E),E.defaultPrevented||v(E)}return s.createElement("a",H({},y,{href:R,onClick:a?r:C,ref:n,target:h}))});se.displayName="Link";const Ln=s.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:i=!1,style:u,to:h,children:d}=t,f=Oe(t,In),y=le(h,{relative:f.relative}),R=$(),v=s.useContext(Q),C=y.pathname,E=R.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(E=E.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase());let P=E===C||!i&&E.startsWith(C)&&E.charAt(C.length)==="/",c=S!=null&&(S===C||!i&&S.startsWith(C)&&S.charAt(C.length)==="/"),m=P?r:void 0,l;typeof a=="function"?l=a({isActive:P,isPending:c}):l=[a,P?"active":null,c?"pending":null].filter(Boolean).join(" ");let p=typeof u=="function"?u({isActive:P,isPending:c}):u;return s.createElement(se,H({},f,{"aria-current":m,className:l,ref:n,style:p,to:h}),typeof d=="function"?d({isActive:P,isPending:c}):d)});Ln.displayName="NavLink";const mt=s.forwardRef((e,t)=>s.createElement($n,H({},e,{ref:t})));mt.displayName="Form";const $n=s.forwardRef((e,t)=>{let{reloadDocument:n,replace:r,method:o=oe,action:a,onSubmit:i,fetcherKey:u,routeId:h,relative:d}=e,f=Oe(e,Mn),y=Hn(u,h),R=o.toLowerCase()==="get"?"get":"post",v=pt(a,{relative:d}),C=E=>{if(i&&i(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter;y(S||E.currentTarget,{method:o,replace:r,relative:d})};return s.createElement("form",H({ref:t,method:R,action:v,onSubmit:n?i:C},f))});mt.displayName="Form";var we;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(we||(we={}));var ze;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ze||(ze={}));function kn(e){return e+" must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router."}function jn(e){let t=s.useContext(dt);return t||_(!1,kn(e)),t}function Bn(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:i}=t===void 0?{}:t,u=Z(),h=$(),d=le(e,{relative:i});return s.useCallback(f=>{if(Nn(f,n)){f.preventDefault();let y=r!==void 0?r:V(h)===V(d);u(e,{replace:y,state:o,preventScrollReset:a,relative:i})}},[h,u,d,r,o,n,e,a,i])}function Hn(e,t){let{router:n}=jn(we.UseSubmitImpl),r=pt();return s.useCallback(function(o,a){if(a===void 0&&(a={}),typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:i,encType:u,formData:h,url:d}=Fn(o,r,a),f=d.pathname+d.search,y={replace:a.replace,formData:h,formMethod:i,formEncType:u};e?(t==null&&_(!1,"No routeId available for useFetcher()"),n.fetch(e,t,f,y)):n.navigate(f,y)},[r,n,e,t])}function pt(e,t){let{relative:n}=t===void 0?{}:t,{basename:r}=s.useContext(Y),o=s.useContext(L);o||_(!1,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),u=H({},le(e??".",{relative:n})),h=$();if(e==null&&(u.search=h.search,u.hash=h.hash,a.route.index)){let d=new URLSearchParams(u.search);d.delete("index"),u.search=d.toString()?"?"+d.toString():""}return(!e||e===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:I([r,u.pathname])),V(u)}var Ue={},Wn=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),gt="%[a-f0-9]{2}",Qe=new RegExp(gt,"gi"),Xe=new RegExp("("+gt+")+","gi");function Se(e,t){try{return decodeURIComponent(e.join(""))}catch{}if(e.length===1)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],Se(n),Se(r))}function Vn(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Qe),n=1;n<t.length;n++)e=Se(t,n).join(""),t=e.match(Qe);return e}}function qn(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=Xe.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{var r=Vn(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Xe.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var i=o[a];e=e.replace(new RegExp(i,"g"),t[i])}return e}var Yn=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return qn(e)}},Jn=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const n=e.indexOf(t);return n===-1?[e]:[e.slice(0,n),e.slice(n+t.length)]},Kn=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),a=0;a<r.length;a++){var i=r[a],u=e[i];(o?t.indexOf(i)!==-1:t(i,u,e))&&(n[i]=u)}return n};(function(e){const t=Wn,n=Yn,r=Jn,o=Kn,a=c=>c==null,i=Symbol("encodeFragmentIdentifier");function u(c){switch(c.arrayFormat){case"index":return m=>(l,p)=>{const g=l.length;return p===void 0||c.skipNull&&p===null||c.skipEmptyString&&p===""?l:p===null?[...l,[f(m,c),"[",g,"]"].join("")]:[...l,[f(m,c),"[",f(g,c),"]=",f(p,c)].join("")]};case"bracket":return m=>(l,p)=>p===void 0||c.skipNull&&p===null||c.skipEmptyString&&p===""?l:p===null?[...l,[f(m,c),"[]"].join("")]:[...l,[f(m,c),"[]=",f(p,c)].join("")];case"colon-list-separator":return m=>(l,p)=>p===void 0||c.skipNull&&p===null||c.skipEmptyString&&p===""?l:p===null?[...l,[f(m,c),":list="].join("")]:[...l,[f(m,c),":list=",f(p,c)].join("")];case"comma":case"separator":case"bracket-separator":{const m=c.arrayFormat==="bracket-separator"?"[]=":"=";return l=>(p,g)=>g===void 0||c.skipNull&&g===null||c.skipEmptyString&&g===""?p:(g=g===null?"":g,p.length===0?[[f(l,c),m,f(g,c)].join("")]:[[p,f(g,c)].join(c.arrayFormatSeparator)])}default:return m=>(l,p)=>p===void 0||c.skipNull&&p===null||c.skipEmptyString&&p===""?l:p===null?[...l,f(m,c)]:[...l,[f(m,c),"=",f(p,c)].join("")]}}function h(c){let m;switch(c.arrayFormat){case"index":return(l,p,g)=>{if(m=/\[(\d*)\]$/.exec(l),l=l.replace(/\[\d*\]$/,""),!m){g[l]=p;return}g[l]===void 0&&(g[l]={}),g[l][m[1]]=p};case"bracket":return(l,p,g)=>{if(m=/(\[\])$/.exec(l),l=l.replace(/\[\]$/,""),!m){g[l]=p;return}if(g[l]===void 0){g[l]=[p];return}g[l]=[].concat(g[l],p)};case"colon-list-separator":return(l,p,g)=>{if(m=/(:list)$/.exec(l),l=l.replace(/:list$/,""),!m){g[l]=p;return}if(g[l]===void 0){g[l]=[p];return}g[l]=[].concat(g[l],p)};case"comma":case"separator":return(l,p,g)=>{const x=typeof p=="string"&&p.includes(c.arrayFormatSeparator),b=typeof p=="string"&&!x&&y(p,c).includes(c.arrayFormatSeparator);p=b?y(p,c):p;const T=x||b?p.split(c.arrayFormatSeparator).map(B=>y(B,c)):p===null?p:y(p,c);g[l]=T};case"bracket-separator":return(l,p,g)=>{const x=/(\[\])$/.test(l);if(l=l.replace(/\[\]$/,""),!x){g[l]=p&&y(p,c);return}const b=p===null?[]:p.split(c.arrayFormatSeparator).map(T=>y(T,c));if(g[l]===void 0){g[l]=b;return}g[l]=[].concat(g[l],b)};default:return(l,p,g)=>{if(g[l]===void 0){g[l]=p;return}g[l]=[].concat(g[l],p)}}}function d(c){if(typeof c!="string"||c.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(c,m){return m.encode?m.strict?t(c):encodeURIComponent(c):c}function y(c,m){return m.decode?n(c):c}function R(c){return Array.isArray(c)?c.sort():typeof c=="object"?R(Object.keys(c)).sort((m,l)=>Number(m)-Number(l)).map(m=>c[m]):c}function v(c){const m=c.indexOf("#");return m!==-1&&(c=c.slice(0,m)),c}function C(c){let m="";const l=c.indexOf("#");return l!==-1&&(m=c.slice(l)),m}function E(c){c=v(c);const m=c.indexOf("?");return m===-1?"":c.slice(m+1)}function S(c,m){return m.parseNumbers&&!Number.isNaN(Number(c))&&typeof c=="string"&&c.trim()!==""?c=Number(c):m.parseBooleans&&c!==null&&(c.toLowerCase()==="true"||c.toLowerCase()==="false")&&(c=c.toLowerCase()==="true"),c}function P(c,m){m=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},m),d(m.arrayFormatSeparator);const l=h(m),p=Object.create(null);if(typeof c!="string"||(c=c.trim().replace(/^[?#&]/,""),!c))return p;for(const g of c.split("&")){if(g==="")continue;let[x,b]=r(m.decode?g.replace(/\+/g," "):g,"=");b=b===void 0?null:["comma","separator","bracket-separator"].includes(m.arrayFormat)?b:y(b,m),l(y(x,m),b,p)}for(const g of Object.keys(p)){const x=p[g];if(typeof x=="object"&&x!==null)for(const b of Object.keys(x))x[b]=S(x[b],m);else p[g]=S(x,m)}return m.sort===!1?p:(m.sort===!0?Object.keys(p).sort():Object.keys(p).sort(m.sort)).reduce((g,x)=>{const b=p[x];return Boolean(b)&&typeof b=="object"&&!Array.isArray(b)?g[x]=R(b):g[x]=b,g},Object.create(null))}e.extract=E,e.parse=P,e.stringify=(c,m)=>{if(!c)return"";m=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},m),d(m.arrayFormatSeparator);const l=b=>m.skipNull&&a(c[b])||m.skipEmptyString&&c[b]==="",p=u(m),g={};for(const b of Object.keys(c))l(b)||(g[b]=c[b]);const x=Object.keys(g);return m.sort!==!1&&x.sort(m.sort),x.map(b=>{const T=c[b];return T===void 0?"":T===null?f(b,m):Array.isArray(T)?T.length===0&&m.arrayFormat==="bracket-separator"?f(b,m)+"[]":T.reduce(p(b),[]).join("&"):f(b,m)+"="+f(T,m)}).filter(b=>b.length>0).join("&")},e.parseUrl=(c,m)=>{m=Object.assign({decode:!0},m);const[l,p]=r(c,"#");return Object.assign({url:l.split("?")[0]||"",query:P(E(c),m)},m&&m.parseFragmentIdentifier&&p?{fragmentIdentifier:y(p,m)}:{})},e.stringifyUrl=(c,m)=>{m=Object.assign({encode:!0,strict:!0,[i]:!0},m);const l=v(c.url).split("?")[0]||"",p=e.extract(c.url),g=e.parse(p,{sort:!1}),x=Object.assign(g,c.query);let b=e.stringify(x,m);b&&(b=`?${b}`);let T=C(c.url);return c.fragmentIdentifier&&(T=`#${m[i]?f(c.fragmentIdentifier,m):c.fragmentIdentifier}`),`${l}${b}${T}`},e.pick=(c,m,l)=>{l=Object.assign({parseFragmentIdentifier:!0,[i]:!1},l);const{url:p,query:g,fragmentIdentifier:x}=e.parseUrl(c,l);return e.stringifyUrl({url:p,query:o(g,m),fragmentIdentifier:x},l)},e.exclude=(c,m,l)=>{const p=Array.isArray(m)?g=>!m.includes(g):(g,x)=>!m(g,x);return e.pick(c,p,l)}})(Ue);/**
 * React Router Manage v1.1.5
 *
 * Copyright (c) onshinpei Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gn={401:{title:"401 NO PERMISSION",img:"//ysf.qiyukf.net/yx/9c9ce7793b3c0657da5d80e740a89681"},404:{title:"404 NOT FOUND",img:"https://ysf.nosdn.127.net/ysh/6be90dea7806767fe65e7b48982b7a61"}},W=({code:e="401"})=>{const t=Gn[e];return s.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"white",height:"100%",flexDirection:"column",borderRadius:8}},s.createElement("img",{alt:t.title,width:200,src:t==null?void 0:t.img}),s.createElement("div",{style:{color:"#666666",lineHeight:"22px",textAlign:"center",marginTop:16}},t.title))};W.displayName="NoAuth";const zn=({name:e,component:t})=>{const{routesMap:n,currentRoute:r}=Ie(),o=n[e];return e===r.name?t?s.createElement(t,null):s.createElement(s.Fragment,null):s.createElement(z,{to:o.path||""})},Qn=({tip:e="加载中"})=>s.createElement("div",null,e),Xn=()=>s.createElement(s.Fragment,null,s.createElement(Qn,{tip:"应用正在加载中…"})),Ne={LoadingComponent:Xn};function Zn(e){Object.entries(e).forEach(([t,n])=>{Ne[t]=n})}function ye(e,t){let n;return e&&(Pr(e)?n=e:ot(e.path)?n=function(){return s.createElement(z,{to:e.path})}:ot(e.name)&&(n=function(){return s.createElement(zn,{name:e.name,component:t})})),n}const er=({beforeEnter:e,Component:t,beforeEachMount:n})=>{const[r,o]=s.useState({Component:void 0}),{currentRoute:a}=Ie();s.useLayoutEffect(()=>{let u=!0;return n?n(a,h=>{if(!u)return;const d=ye(h,t);e?e(a,f=>{if(!u)return;const y=ye(f,d||t);o({Component:y||d||t})}):o({Component:d||t})}):e&&e(a,h=>{if(!u)return;const d=ye(h,t);o({Component:d||t})}),()=>{u=!1}},[t,a,e,n]);const i=Ne.LoadingComponent;return r.Component?s.createElement(r.Component,null):s.createElement(i,null)},Re=()=>s.createElement(W,{code:"404"}),ee=s.createContext(null);ee.displayName="MRouterHistoryContext";function tr(){return s.useContext(ee).history}function nr(){return s.useContext(ee).routeHooksRef}function rr(){return s.useContext(ee).historyMethods}function Fe(e){const t={};function n(r,o){return r?r.map(a=>{const i={...a,items:[],children:[],parent:o};return i.items=n(a.items,i),i.children=n(a.children,i),t[a.name]=i,i},[]):[]}return{inputRoutes:n(e),routesMap:t}}function or(e,t){let n=!1;const r=t,{routesMap:o,inputRoutes:a}=Fe(e.inputRoutes);if(r.forEach(i=>{const{path:u,name:h,parentName:d}=i;if(o[u]||o[h])throw new Error(`新增路由 ${h} ${u} 已经存在，请修改`);if(d){const f=o[d];if(f){const y=ce({routes:[i],parent:f,_level:f._level+1});f.items=f.items||[],f.items.push(y[0]),n=!0}}else{const f=ce({routes:[i],_level:0});a.push(f[0]),n=!0}}),n){const i=e._getNewStateByNewInputRoutes(a);return{...e,...i,inputRoutes:[...a]}}return e}function ar(e,t){let n=!1;const r=t,{routesMap:o,inputRoutes:a}=Fe(e.inputRoutes);if(r.forEach(({routeName:i,routeData:u})=>{const h=o[i];if(h){const d=h.parent,f={...h,...u},y=ce({routes:[f],parent:d,_level:((d==null?void 0:d._level)||0)+1,basename:e.basename});d||(Object.assign(h,y[0]),n=!0),d&&d.items?(d.items.splice(d.items.indexOf(h),1,y[0]),n=!0):d&&d.children&&(d.children.splice(d.children.indexOf(h),1,y[0]),n=!0)}}),n){const i=e._getNewStateByNewInputRoutes(a);return{...e,...i,inputRoutes:[...a]}}return e}function ir(e,t){let n=!1;const r=t,{routesMap:o,inputRoutes:a}=Fe(e.inputRoutes);if(r.forEach(i=>{const u=o[i];if(u){const h=u.parent;if(!h){const d=a.indexOf(u);d>-1&&(a.splice(d,1),n=!0)}if(h&&h.items){const d=h.items.indexOf(u);d>-1&&(h.items.splice(d,1),n=!0)}}}),n){const i=e._getNewStateByNewInputRoutes(a);return{...e,...i,inputRoutes:[...a]}}else return e}var Ze;(function(e){e[e.menu=0]="menu",e[e.step=1]="step"})(Ze||(Ze={}));var U;(function(e){e.UPDATE_INPUT_ROUTES="UPDATE_INPUT_ROUTES",e.UPDATE_CURRENT_ROUTE="UPDATE_CURRENT_ROUTE",e.UPDATE_STATE="UPDATE_STATE",e.ADD_ROUTES="ADD_ROUTES",e.REMOVE_ROUTES="REMOVE_ROUTES",e.UPDATE_ROUTES="UPDATE_ROUTES"})(U||(U={}));const De=s.createContext({state:{inputRoutes:[],authInputRoutes:[],permissionList:[],routesMap:{},flattenRoutes:[]},methods:{}});De.displayName="MRouterContext";function ur(e,t){const{type:n,payload:r}=t;switch(n){case U.ADD_ROUTES:return or(e,r);case U.REMOVE_ROUTES:return ir(e,r);case U.UPDATE_ROUTES:return ar(e,r);case U.UPDATE_INPUT_ROUTES:return{...e,inputRoutes:r};case U.UPDATE_CURRENT_ROUTE:return{...e,currentRoute:r};case U.UPDATE_STATE:return{...e,...r};default:return{...e}}}function sr(){return s.useContext(De).state}const cr=()=>{const e=Z();return s.useCallback((n,r={})=>{if(r!=null&&r.params&&typeof n=="string"&&(n=Wt(n,r.params)),r!=null&&r.query&&typeof n=="string"){let o=n;const a=Ue.stringify(r.query);o.includes("?")?o=`${o}&${a}`:o=`${o}?${a}`,n=o}return e(n,r)},[e])};function Ie(){const e=$(),t=s.useRef({}),{routesMap:n,inputRoutes:r,currentRoute:o,flattenRoutes:a,authInputRoutes:i,basename:u}=sr();t.current!==n&&(t.current=n);const h=s.useMemo(()=>Ue.parse(e.search),[e.search]),d=gn();return{navigate:cr(),routesMap:n,query:h,params:d,routes:r,authRoutes:i,currentRoute:o,flattenRoutes:a,location:e,basename:u}}const lr=()=>{var r;const{currentRoute:e}=Ie(),t=s.useMemo(()=>{if(!e)return"";const o=e._itemsAndChildren||[],a=o==null?void 0:o.find(i=>i._isHasAuth);return(a==null?void 0:a.path)||""},[e]);let n=!1;return(r=e.parent)!=null&&r.component||(n=!0),t?s.createElement(z,{to:t,replace:n}):s.createElement(W,null)};function fr(e,t,n=[]){Object.keys(t).filter(o=>!n.includes(o)).forEach(o=>{Object.defineProperty(e,o,{get:()=>{const a=t[o];return Array.isArray(a)?a[a.length-1]:a}})})}function Me(e="",t="/",n){return e.startsWith(t)?e:e===t?t:e.startsWith("/")?t.endsWith("/")?`${t}${e.slice(1)}`:`${t}${e}`:n?Me(e,n):t.endsWith("/")?`${t}${e}`:`${t}/${e}`}function ce(e){const{routes:t,parent:n,basename:r="/",_level:o=1}=e;if(!t)return[];function a(i,u,h=1){return i.map(d=>{const{path:f,items:y,children:R,...v}=d,C=Me(f,r,u==null?void 0:u.path),E={...v,path:yt(C),parent:u,_level:h,_relativePath:f};return y&&(E.items=a(y,E,h+1)),R&&(E.children=a(R,E,h+1)),E})}return a(t,n,o)}function hr(e){e.sort((t,n)=>n.score-t.score)}function xe(e){const{inputRoutes:t,permissionList:n,permissionMode:r,hasAuth:o,beforeEachMount:a,basename:i,location:u}=e,h=Ae({routes:t,permissionList:n,permissionMode:r,hasAuth:o,beforeEachMount:a}),d=Pe(h,void 0,!0);r==="children"&&o&&d.forEach(C=>{const E=C.route;if(!E._currentIsHasAuth)return;let P=E;for(;P;)P._isHasAuth=!0,P._component=P._currentComponent,P=P.parent}),xr(d,i,h),hr(d);const f=d.map(C=>C.route),y=Cr(d),R=ae(u.pathname,y,f),v=Rt(R);return{authInputRoutes:h,flattenRoutes:f,routesMap:y,currentRoute:R,currentPathRoutes:v,beforeEachMount:a}}const dr=/^:\w+$/,mr=3,pr=2,gr=1,yr=10,Rr=-2,et=e=>e==="*";function Er(e,t){let n=e.split("/"),r=n.length;return n.some(et)&&(r+=Rr),t&&(r+=pr),n.filter(o=>!et(o)).reduce((o,a)=>o+(dr.test(a)?mr:a===""?gr:yr),r)}const Pe=(e,t,n)=>e.reduce((r,o)=>{t&&(o.parent=t);const a={path:o.path,route:o,score:Er(o.path,!1)};if(Array.isArray(o.items)||Array.isArray(o.children)){let i=r.concat(a);return Array.isArray(o.items)&&(i=i.concat(Pe(o.items,o,n))),Array.isArray(o.children)&&n&&(i=i.concat(Pe(o.children,o,n))),i}else return r.concat(a)},[]),Cr=e=>{const t=e.reduce((r,o)=>{var d;const{route:a}=o,{name:i,path:u}=a;if(r[i])throw new Error(`Router config 'name' isn't unique, route name: "${i}", route path: "${u}"`);const h=r[u];if(h){const f=h[h.length-1];if(f!=null&&f.name&&f.name===((d=a.parentAbs)==null?void 0:d.name))r[u]=[...h,a];else throw new Error(`There are routes at the same level with the same path, route name: "${i}", route path: "${u}"`)}else r[u]=[a];return r[i]=a,r},{}),n={};return fr(n,t),n};function yt(e){return e&&(e.endsWith("/")?e.slice(0,-1):e)}function ae(e=window.location.pathname,t,n){e=yt(e);let r=t[e];if(!r){const o=n.find(a=>!!ut({path:a.path},e));if(o)return o}return r||(r={_isHasAuth:!0,_relativePath:"",_level:0,name:"404",path:e,title:"404",meta:{},component:()=>s.createElement(W,{code:"404"}),_route:{_level:0,_relativePath:"",name:"404",path:e,title:"404",component:()=>s.createElement(W,{code:"404"})}}),r}function Rt(e){const t=[];let n=e;for(;n;)t.unshift(n),n=n.parent;return t}function br(e){const{to:t,from:n,callbacks:r,finish:o}=e;function a(i=0){const u=r[i];if(u)u.fn(t,n,()=>{a(i+1)});else return o()}r.length===0?o():a(0)}function tt(e,t){return t.includes(e)}function vr(e,t){return e(t)}function Et({code:e,permissionList:t,hasAuth:n,route:r}){return!n||!e?!0:Array.isArray(e)?e.length===0?!0:e.some(o=>tt(o,t)):e instanceof Function?!!vr(e,r):tt(e,t)}function Ae(e){const{routes:t,permissionList:n=[],permissionMode:r,hasAuth:o,beforeEachMount:a,parent:i,parentAbs:u}=e;return t.map(h=>{var T;const{component:d,code:f="",children:y,items:R,beforeEnter:v,redirect:C,meta:E,type:S}=h;let P=[],c=[],m=d;m||(m=lr);const l={};(v||a)&&(l.beforeEnter=v,l.beforeEachMount=a,l.key=h.name,l._route=h,l.Component=m,m=er);const p=Et({code:f,permissionList:n,hasAuth:o,route:h}),g=(i==null?void 0:i._isHasAuth)===!1?!1:p,x={...h,parent:i,parentAbs:u,props:l,meta:E||{},items:[],children:[],_route:h,_isHasAuth:g,_currentComponent:m,_currentIsHasAuth:p};y&&(P=Ae({routes:y,permissionList:n,permissionMode:r,hasAuth:o,beforeEachMount:a,parent:x,parentAbs:x})),R&&(c=Ae({routes:R,permissionList:n,permissionMode:r,hasAuth:o,beforeEachMount:a,parent:x,parentAbs:u}));const b=[...c,...P];if(!g)return{...x,children:P,items:c,_component:W,_itemsAndChildren:b};if(C)return{...x,children:P,items:c,_component:()=>s.createElement(z,{to:C,replace:!0}),_itemsAndChildren:b};if(S==="null")return{...x,children:P,items:c,_component:void 0,_itemsAndChildren:b};if(m)return{...x,children:P,items:c,_component:m,_itemsAndChildren:b};{const B=Sr(h,n,o);if(B){let te=!1;return(T=h.parent)!=null&&T.component||(te=!0),{...x,children:P,items:c,_component:()=>s.createElement(z,{to:B,replace:te}),_itemsAndChildren:b}}return{...x,items:[],children:[],_component:W}}})}function wr(e,t,n){return n.filter(r=>r.name===e&&r.pathname===t)}function nt(e){return e==="/"?e:e.replace(/\/*\**$/gm,"")}function rt(e){if(typeof e=="string")return nt(e);const{pathname:t}=e;return t?{...e,pathname:nt(t)}:e}const Sr=(e,t,n,r)=>{const{items:o}=e;if(!o)return"";if(!n)return o[0].path;let a="";for(let i=0;i<(o==null?void 0:o.length);i++){const u=o[i],{code:h,path:d}=u;if(!h){a=d;break}if(Et({code:h,permissionList:t,hasAuth:n,route:u})){a=d;break}}return a};function xr(e,t,n){const r=Me("*",t);if(e.some(({path:i})=>i===r))return;const a={name:"notFound",title:"notFound",meta:{},path:r,component:Re,_isHasAuth:!0,_component:Re,_relativePath:r,_level:0,_route:{_relativePath:r,_level:0,name:"notFound",title:"notFound",meta:{},path:r,component:Re}};n.push(a),e.push({path:r,score:e.length,route:a})}function Pr(e){return e instanceof Function}function ot(e){return typeof e=="string"}let Ee=0;function Ar(e){const{LoadingComponent:t,...n}=e;return Ee=Ee+1,t&&Zn({LoadingComponent:t}),{...n,_isDefined:!0,_defineId:Ee}}function Ct(e){return e?e.reduce((t,n)=>t.concat(Array.isArray(n)?Ct(n):n),[]):[]}let at=new Map;function _r(e,t){return e.basename===t.basename&&e.hasAuth===t.hasAuth&&e.beforeEachMount===t.beforeEachMount&&e.inputRoutes===t.inputRoutes&&e.permissionList===t.permissionList}function Tr(e){const{inputRoutes:t,hasAuth:n,permissionList:r,permissionMode:o,beforeEachMount:a,basename:i,location:u,_defineId:h}=e,d=at.get(h);if(d&&_r(d.queryData,e))return d.initialData;const f=xe({inputRoutes:t,permissionList:r,permissionMode:o,hasAuth:n,beforeEachMount:a,basename:i,location:u});return at.set(h,{queryData:e,initialData:f}),f}function Or({basename:e,children:t,syncUpdateCurrentRoute:n}){const r=s.useRef(null),o=s.useRef(null);if(r.current==null){const d=_t({window,v5Compat:!0});r.current={...d,back:()=>d.go(-1),forward:()=>d.go(1)},o.current=[]}const a=s.useMemo(()=>({history:r.current,routeHooks:o.current,routeHooksRef:o,historyMethods:{push:r.current.push,replace:r.current.replace,go:r.current.go,back:r.current.back,forward:r.current.forward}}),[]),i=r.current,[u,h]=s.useState({action:i.action,location:i.location});return s.useLayoutEffect(()=>{let d=!0;const f=i.listen(y=>{const{location:R}=y;d&&Pt.unstable_batchedUpdates(()=>{h(y),n(R)})});return()=>{d=!1,f()}},[i,n]),s.createElement(ee.Provider,{value:a},s.createElement(An,{basename:e,location:u.location,navigationType:u.action,navigator:i},t))}const Ur=[],Nr=({permissionList:e=Ur,permissionMode:t="parent",routerConfig:n,hasAuth:r,children:o},a)=>{const i=tr(),u=$(),h=s.useRef(u),d=rr(),f=nr(),{routes:y=[],basename:R="/",beforeEachMount:v,autoDocumentTitle:C=!1}=n,E=s.useMemo(()=>ce({routes:y,basename:R}),[R,y]),S=s.useRef(E),[P]=s.useState(Tr({inputRoutes:E,permissionList:e,permissionMode:t,hasAuth:r,beforeEachMount:v,basename:R,location:h.current,_defineId:n._defineId})),c=s.useRef(null),m=s.useCallback(w=>xe({inputRoutes:w,permissionList:e,permissionMode:t,hasAuth:r,beforeEachMount:v,basename:R,location:u}),[R,v,r,u,e,t]);c.current=m;const[l,p]=s.useReducer(ur,{...P,inputRoutes:E,permissionList:e,permissionMode:t,hasAuth:r,basename:R,_getNewStateByNewInputRoutes:c.current});s.useImperativeHandle(a,()=>({updateCurrentRoute(w){const{pathname:O}=w,F=l.currentRoute,N=ae(O,l.routesMap,l.flattenRoutes);let D=l.currentPathRoutes;N!==l.currentRoute&&(D=Rt(N)),p({type:U.UPDATE_STATE,payload:{currentRoute:N,currentPathRoutes:D,prevRoute:F}})}})),s.useLayoutEffect(()=>{if(l.permissionList===e&&l.permissionMode===t&&r===l.hasAuth&&l.inputRoutes===E&&l.beforeEachMount===v)return;let w=l.inputRoutes;if(S.current===E&&l.permissionList===e&&l.permissionMode===t&&r===l.hasAuth&&l.beforeEachMount===v)return;S.current=E,w=E;const{authInputRoutes:O,flattenRoutes:F,routesMap:N,currentRoute:D,currentPathRoutes:K}=xe({inputRoutes:w,permissionList:e,permissionMode:t,hasAuth:r,beforeEachMount:v,basename:R,location:u});p({type:U.UPDATE_STATE,payload:{permissionList:e,permissionMode:t,authInputRoutes:O,routesMap:N,flattenRoutes:F,currentRoute:D,currentPathRoutes:K,basename:R,beforeEachMount:v,inputRoutes:w}})},[l.inputRoutes,E,e,l.permissionList,t,l.permissionMode,r,l.hasAuth,R,v,u,l.beforeEachMount]),s.useEffect(()=>{if(!C)return;let w="";typeof C=="boolean"?w=l.currentPathRoutes.map(O=>O.title).join("-"):typeof C=="function"&&(w=C(l.currentPathRoutes)),document.title=w},[C,l.currentPathRoutes]);const g=s.useCallback((w,O)=>{var D;typeof O!="string"&&(O=O==null?void 0:O.pathname);const F=window.location.pathname,N=wr("BeforeRouterLeave",F,f.current);if((D=l.currentRoute)!=null&&D.beforeLeave&&N.unshift({name:"BeforeRouterLeave",pathname:l.currentRoute.path,fn:l.currentRoute.beforeLeave}),N.length)br({to:ae(O,l.routesMap,l.flattenRoutes),from:ae(F,l.routesMap,l.flattenRoutes),callbacks:N,finish:()=>w()});else return w()},[f,l.currentRoute.beforeLeave,l.currentRoute.path,l.routesMap,l.flattenRoutes]);s.useLayoutEffect(()=>{i.go=w=>{g(()=>d.go(w))},i.push=(w,O)=>{w=rt(w),g(()=>d.push(w,O),w)},i.replace=(w,O)=>{w=rt(w),g(()=>d.replace(w,O),w)},i.back=()=>{g(()=>d.go(-1))},i.forward=()=>{g(()=>d.go(1))}},[g,i,d]);const x=s.useCallback(w=>{p({type:U.ADD_ROUTES,payload:w})},[]),b=s.useCallback(w=>{p({type:U.REMOVE_ROUTES,payload:w})},[]),T=s.useCallback(w=>{p({type:U.UPDATE_ROUTES,payload:w})},[]),B=s.useCallback(w=>{w&&p({type:U.UPDATE_CURRENT_ROUTE,payload:w})},[]),te=s.useMemo(()=>{function w(F){const N=F.map(D=>{let K,Le=[];const{_component:de,path:ne,items:$e,children:ke,_isHasAuth:xt,props:je}=D;if(de){const re=Ne.LoadingComponent;if(!xt)return{path:ne.endsWith("*")?ne:`${ne}/*`,element:s.createElement(s.Suspense,{fallback:s.createElement(re,null)},s.createElement(de,{...je}))};K={path:ne,element:s.createElement(s.Suspense,{fallback:s.createElement(re,null)},s.createElement(de,{...je}))},ke&&(K.children=w(ke)),$e&&(Le=w($e))}return[K,...Le].filter(re=>re!==void 0)});return Ct(N)}return w(l.authInputRoutes)},[l.authInputRoutes]),he=yn(te),St=s.useMemo(()=>o?o(he):he,[o,he]);return s.createElement(De.Provider,{value:{state:l,methods:{addRoutes:x,updateCurrentRoute:B,removeRoutes:b,updateRoutes:T}}},St)},bt=s.forwardRef(Nr);bt.displayName="MRouterContextProvider";const Fr=({permissionList:e,permissionMode:t,wrapComponent:n,hasAuth:r=!0,routerConfig:o,children:a,RouterComponent:i})=>{const u=s.useRef(null),h=s.useCallback(f=>{var y,R;(R=(y=u.current)==null?void 0:y.updateCurrentRoute)==null||R.call(y,f)},[]);o._isDefined||console.error("The routerConfig does not call defineRouterConfig definition, You should use 'const routerConfig = defineRouterConfig({...})'"),n&&a&&console.warn("MRouter attributes 'children' and 'WrapComponent' are optional attributes. If both exist, children will be used"),a&&typeof a!="function"&&console.error('MRoute attributes children needs to be a function, not a function at present  "%s"',a);const d=s.useMemo(()=>{if(a&&typeof a=="function")return a;if(n)return n.displayName="WrapComponent",function(y){return s.createElement(n,null,y)}},[n,a]);return s.createElement(i,{syncUpdateCurrentRoute:h},s.createElement(bt,{routerConfig:o,permissionList:e,permissionMode:t,hasAuth:r,ref:u},d))},Dr=e=>s.createElement(Fr,{...e,RouterComponent:Or}),_e={isLogin:!1},Ir=Ar({routes:[{path:"/",name:"layout",component:Lr,children:[{path:"home",name:"home",component:Br},{path:"login",name:"login",component:jr},{path:"protected",name:"protected",component:Hr,beforeEnter:(e,t)=>{_e.isLogin?t():t({path:"/login"})}}]}]});function Mr(){return k($r,{children:[A("h1",{children:"Auth Example"}),A("p",{children:"This example demonstrates a simple login flow with three pages: a public page, a protected page, and a login page. In order to see the protected page, you must first login. Pretty standard stuff."}),A("p",{children:"First, visit the public page. Then, visit the protected page. You're not yet logged in, so you are redirected to the login page. After you login, you are redirected back to the protected page."}),A("p",{children:"Notice the URL change each time. If you click the back button at this point, would you expect to go back to the login page? No! You're already logged in. Try it out, and you'll see you go back to the page you visited just *before* logging in, the public page."}),A(Dr,{routerConfig:Ir,children:e=>A("div",{children:e})})]})}function Lr(){return k("div",{children:[A(kr,{}),k("ul",{children:[A("li",{children:A(se,{to:"/",children:"Public Page"})}),A("li",{children:A(se,{to:"/protected",children:"Protected Page"})})]}),A(Pn,{})]})}let vt=s.createContext(null);function $r({children:e}){let[t,n]=s.useState(null),a={user:t,signin:(i,u)=>ue.signin(()=>{n(i),_e.isLogin=!0,u()}),signout:i=>ue.signout(()=>{n(null),_e.isLogin=!1,i()})};return A(vt.Provider,{value:a,children:e})}function wt(){return s.useContext(vt)}function kr(){let e=wt(),t=Z();return e.user?k("p",{children:["Welcome ",e.user,"!"," ",A("button",{onClick:()=>{e.signout(()=>t("/"))},children:"Sign out"})]}):A("p",{children:"You are not logged in."})}function jr(){var a,i;let e=Z(),t=$(),n=wt(),r=((i=(a=t.state)==null?void 0:a.from)==null?void 0:i.pathname)||"/";function o(u){u.preventDefault();let d=new FormData(u.currentTarget).get("username");n.signin(d,()=>{e(r,{replace:!0})})}return k("div",{children:[k("p",{children:["You must log in to view the page at ",r]}),k("form",{onSubmit:o,children:[k("label",{children:["Username: ",A("input",{name:"username",type:"text"})]}),A("button",{type:"submit",children:"Login"})]})]})}function Br(){return A("h3",{children:"Public"})}function Hr(){return A("h3",{children:"Protected"})}At.render(A(Mr,{}),document.getElementById("root"));
